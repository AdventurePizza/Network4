(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{182:function(e,t){},275:function(e,t,n){},277:function(e,t,n){},307:function(e,t){},309:function(e,t){},319:function(e,t){},321:function(e,t){},347:function(e,t){},349:function(e,t){},350:function(e,t){},356:function(e,t){},358:function(e,t){},375:function(e,t){},377:function(e,t){},389:function(e,t){},392:function(e,t){},418:function(e,t){},420:function(e,t){},442:function(e,t){},446:function(e,t){},460:function(e,t){},479:function(e,t,n){"use strict";n.r(t);var s=n(7),r=(n(275),n(14)),c=n(68),a=n(0),i=n.n(a),o=n(35),u=n(18),l=(n(277),n(1)),b=n.n(l),d=n(523),j=n(531),p=n(528),f=n(533),h=n(527),m=n(530),O=n(256),x=n.n(O),g=n(23),v=n(99),w=n(262),y=n(529),k=b.a.createContext({getRequest:function(){return Promise.resolve({isSuccessful:!1})},setRequest:function(){return Promise.resolve({isSuccessful:!1})},getRequests:function(){return Promise.resolve({isSuccessful:!1})},setAnswer:function(){return Promise.resolve({isSuccessful:!1})}}),S="https://network4-backend.herokuapp.com",C=function(e){var t=e.children,n=Object(l.useCallback)(function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S+"/users/request/".concat(t),{method:"GET"});case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),r=Object(l.useCallback)(function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S+"/users/request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request:t})});case 2:if(!(n=e.sent).ok){e.next=5;break}return e.abrupt("return",{isSuccessful:!0});case 5:return e.abrupt("return",{isSuccessful:!1,message:n.statusText});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),c=Object(l.useCallback)(Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S+"/users/requests",{method:"GET"});case 2:if(!(t=e.sent).ok){e.next=7;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),[]),a=Object(l.useCallback)(function(){var e=Object(o.a)(i.a.mark((function e(t,n){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S+"/users/answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answer:t,requestTimestamp:n})});case 2:if(!(s=e.sent).ok){e.next=5;break}return e.abrupt("return",{isSuccessful:!0});case 5:return e.abrupt("return",{isSuccessful:!1,message:s.statusText});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]);return Object(s.jsx)(k.Provider,{value:{getRequest:n,setRequest:r,getRequests:c,setAnswer:a},children:t})},q=n(126),z=n.p+"static/media/green-loader.2c2db02c.gif",A=Object(d.a)((function(e){return Object(j.a)({root:{display:"flex"},size:{width:e.spacing(15),height:e.spacing(15)},preview:{width:e.spacing(40),height:e.spacing(40)},containedSuccess:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},disabled:{}})})),R=new v.a("https://mainnet.api.tez.ie"),T=new w.a({name:"hicetnunc.xyz",preferblackNetwork:"mainnet"});R.setWalletProvider(T);var F="localhost"===window.location.hostname?"ws://localhost:8000":"wss://network4-backend.herokuapp.com",P=x()(F,{transports:["websocket"]}),N=new g.i({name:"Beacon Docs"}),B=["0","v1.0","v2.0","v3.0","v4.0","v5.0"];Object(y.a)();var L=function(){var e=A(),t=Object(l.useState)(),n=Object(u.a)(t,2),a=n[0],b=n[1],d=Object(l.useState)("sync"),j=Object(u.a)(d,2),O=j[0],x=j[1],v=Object(l.useState)(!1),w=Object(u.a)(v,2),y=w[0],S=w[1],C=Object(l.useContext)(k),R=C.getRequest,T=C.setRequest,F=C.getRequests,L=C.setAnswer,E=(Object(q.b)().enqueueSnackbar,Object(l.useState)([])),I=Object(u.a)(E,2),D=I[0],G=I[1],W=Object(l.useState)([]),J=Object(u.a)(W,2),X=J[0],Y=J[1],M=Object(l.useState)(4),_=Object(u.a)(M,1)[0],H=Object(l.useState)("answers"),K=Object(u.a)(H,2),Q=K[0],U=K[1],V=Object(l.useState)(),Z=Object(u.a)(V,2),$=Z[0],ee=Z[1],te=Object(l.useState)(),ne=Object(u.a)(te,2),se=ne[0],re=ne[1],ce=Object(l.useState)(),ae=Object(u.a)(ce,2),ie=ae[0],oe=ae[1],ue=Object(l.useState)(),le=Object(u.a)(ue,2),be=le[0],de=le[1],je=Object(l.useState)(),pe=Object(u.a)(je,2),fe=pe[0],he=pe[1],me=Object(l.useState)(),Oe=Object(u.a)(me,2),xe=Oe[0],ge=Oe[1],ve=Object(l.useState)(),we=Object(u.a)(ve,2),ye=we[0],ke=we[1],Se=Object(l.useState)(0),Ce=Object(u.a)(Se,2),qe=Ce[0],ze=Ce[1],Ae=Object(l.useState)(0),Re=Object(u.a)(Ae,2),Te=Re[0],Fe=Re[1],Pe=(window.innerWidth,Object(l.useState)("")),Ne=Object(u.a)(Pe,2),Be=(Ne[0],Ne[1],Object(l.useState)("")),Le=Object(u.a)(Be,2),Ee=(Le[0],Le[1]),Ie=Object(l.useState)(0),De=Object(u.a)(Ie,2);function Ge(){return(Ge=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,N.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),a&&N.clearActiveAccount().then(Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,N.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),x("sync"),S(!1);case 7:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(){return Je.apply(this,arguments)}function Je(){return(Je=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,N.getActiveAccount();case 3:if(e.t1=e.sent,(0,e.t0)(e.t1),!a){e.next=11;break}return x(a.address),S(!0),e.abrupt("return",a);case 11:return e.prev=11,console.log("Requesting permissions..."),e.next=15,N.requestPermissions();case 15:return t=e.sent,e.t2=b,e.next=19,N.getActiveAccount();case 19:e.t3=e.sent,(0,e.t2)(e.t3),console.log("Got permissions:",t.address),x(t.address),S(!0),e.next=29;break;case 26:e.prev=26,e.t4=e.catch(11),console.log("Got error:",e.t4);case 29:case"end":return e.stop()}}),e,null,[[11,26]])})))).apply(this,arguments)}return De[0],De[1],Object(l.useRef)(),Object(l.useEffect)((function(){console.log("answers"),console.log(X);for(var e=0,t=0;t<X.length;t++)X[t].bounty&&(e+=X[t].bounty);ze(e);for(var n=0,s=0;s<X.length;s++)a&&X[s].owner===a.address&&X[s].bounty&&(n+=X[s].bounty);Fe(n),console.log("tempTotalBounty "+e),console.log("tempCollectedBounty "+n)}),[ie,X]),Object(l.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t,n,s,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:if(t=e.sent,G(t),!(t.length>0)){e.next=14;break}return n=t[0],oe(t[0]),e.next=9,R(n.timestamp);case 9:for(s=e.sent,Y(s),r=0,c=0;c<s.length;c++)s[c].bounty&&s[c].bounty>0&&r++;Ee("Responses ".concat(s.length," Rewards ").concat(r," Bounty ").concat(r*t[0].prize));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[F]),Object(l.useEffect)((function(){var e=function(e){G(D.concat(e).sort((function(e,t){return parseFloat(t.timestamp)-parseFloat(e.timestamp)})))};return P.on("request",e),function(){P.off("request",e)}}),[D]),Object(l.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,N.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),a?(x(a.address.slice(0,6)+"..."+a.address.slice(32,36)),S(!0)):(x("sync"),S(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"top-left",style:{fontSize:"1em",display:"flex",alignItems:"center",margin:6},children:[Object(s.jsx)("b",{children:"Network "}),"\xa0",Object(s.jsxs)(p.a,{value:_,label:"version",onChange:function(e){var t;return console.log(e.target.value),1===e.target.value?t="https://network1.cc/":2===e.target.value?t="https://adventurepizza.github.io/Network2/":3===e.target.value?t="https://adventurepizza.github.io/Network3/":5===e.target.value&&(t="https://adventurepizza.github.io/Network5/"),window.location.href=t,null},children:[Object(s.jsxs)(f.a,{value:1,children:[" ",B[1]]}),Object(s.jsxs)(f.a,{value:2,children:[" ",B[2]]}),Object(s.jsxs)(f.a,{value:3,children:[" ",B[3]]}),Object(s.jsxs)(f.a,{value:4,children:[" ",B[4]]}),Object(s.jsxs)(f.a,{value:5,children:[" ",B[5]]})]}),"\xa0 \ud83d\udce0"]}),Object(s.jsxs)("div",{className:"top-right",style:{position:"absolute",display:"flex",alignItems:"center",backgroundColor:"white",margin:6},children:[y&&Object(s.jsxs)(h.a,{size:"small",title:"unsync",onClick:function(){!function(){Ge.apply(this,arguments)}()},children:[Object(s.jsx)("u",{children:"unsync"})," "]}),y&&Object(s.jsx)("div",{children:" | "}),Object(s.jsxs)(h.a,{title:"sync",size:"small",onClick:Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We();case 2:case"end":return e.stop()}}),e)}))),children:[Object(s.jsx)("u",{children:O})," "]})]}),Object(s.jsx)("div",{style:{fontSize:"0.9em",marginTop:13,marginLeft:13},children:Object(s.jsx)("b",{children:"Requests"})}),Object(s.jsxs)("div",{style:{display:"flex",width:"100%",marginLeft:"auto",marginRight:"auto",overflowX:"scroll"},children:[Object(s.jsx)("div",{style:{textAlign:"center",margin:2},children:Object(s.jsx)(h.a,{onClick:Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U("+request");case 1:case"end":return e.stop()}}),e)}))),style:{height:"100%",border:"solid 2px "},children:"+"})}),D&&D.map((function(e){return Object(s.jsx)("div",{style:{textAlign:"center",margin:2},children:Object(s.jsx)(h.a,{title:e.timestamp,onClick:Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Y,t.next=3,R(e.timestamp);case 3:t.t1=t.sent,(0,t.t0)(t.t1),U("answers"),oe(e);case 7:case"end":return t.stop()}}),t)}))),style:{width:300,marginInline:4,border:"solid 2px "},children:e.request})},e.timestamp)}))]}),"answers"===Q&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{style:{fontSize:"0.9em",marginTop:13,marginLeft:13,overflowY:"auto"},children:Object(s.jsx)("b",{children:"Answers"})}),Object(s.jsxs)("div",{style:{display:"grid",width:"100%",marginLeft:"auto",marginRight:"auto",overflowX:"scroll"},children:[ie&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{style:{textAlign:"center",margin:6},children:Object(s.jsxs)(h.a,{onClick:Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U("+answer");case 1:case"end":return e.stop()}}),e)}))),style:{width:"100%",border:"solid 2px "},children:["Total Posts ",X.length," Total Bounties ",qe," \ua729 Total Gains ",Te," \ua729"]})}),Object(s.jsx)("div",{style:{textAlign:"center",margin:6},children:Object(s.jsx)(h.a,{onClick:Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U("+answer");case 1:case"end":return e.stop()}}),e)}))),style:{width:"100%",border:"solid 2px "},children:"+"})})]}),X&&X.map((function(t,n){return Object(s.jsx)("div",{style:{textAlign:"center",margin:6},children:Object(s.jsxs)("div",{style:{width:"100%"},children:[Object(s.jsx)("iframe",{title:t.timestamp,src:"https://open.spotify.com/embed/".concat(t.song.type,"/").concat(t.song.id,"?utm_source=generator"),width:"100%",height:"80",frameBorder:"0",allowfullscreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"}),Object(s.jsx)("div",{style:{justifyContent:"center",display:"flex",marginBottom:10},children:ye===t.timestamp?Object(s.jsx)("img",{src:z,height:"40"}):ye===-1*t.timestamp?Object(s.jsx)(s.Fragment,{children:"Domo \u2705"}):Object(s.jsxs)(h.a,{variant:"contained",className:e.containedSuccess,title:"domo",onClick:Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ke(t.timestamp),N.requestOperation({operationDetails:[{kind:g.C.TRANSACTION,destination:t.owner,amount:(1e6*ie.prize).toString()}]}).then((function(e){console.log(e),ke(-1*t.timestamp),L(Object(c.a)(Object(c.a)({},t),{},{bounty:(t.bounty?t.bounty:0)+ie.prize}),ie.timestamp),Y([].concat(Object(r.a)(X.slice(0,n)),[Object(c.a)(Object(c.a)({},t),{},{bounty:(t.bounty?t.bounty:0)+ie.prize})],Object(r.a)(X.slice(n+1))))})).catch((function(e){console.log(e),ke(0)}));case 2:case"end":return e.stop()}}),e)}))),style:{width:"20%",border:"solid 2px "},children:[ie.prize," \ua729"]})}),Object(s.jsx)(h.a,{title:t.timestamp,onClick:Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("https://adventurepizza.github.io/Assemble/?profile="+t.owner);case 1:case"end":return e.stop()}}),e)}))),style:{width:"100%",border:"solid 2px "},children:t.message})]})},t.timestamp)}))]})]}),"+request"===Q&&Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{style:{fontSize:"0.9em",marginTop:13,marginInline:13},children:[Object(s.jsx)("b",{children:"Add Request"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(m.a,{id:"outlined-basic",label:"Request",variant:"outlined",placeholder:"recommend jazz music ",fullWidth:!0,onChange:function(e){ee(e.target.value.slice(0,250))},value:$}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(m.a,{id:"outlined-basic",label:"Prize (\ua729)",variant:"outlined",placeholder:"1",fullWidth:!0,onChange:function(e){re(e.target.value)},value:se}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(h.a,{onClick:Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&a.address&&(t=Date.now(),T({request:$,prize:parseFloat(se),owner:a.address,timestamp:t}),G(D.concat([Object(c.a)(Object(c.a)({},D),{},{request:$,prize:parseFloat(se),owner:a.address,timestamp:t})]).sort((function(e,t){return parseFloat(t.timestamp)-parseFloat(e.timestamp)}))),oe({request:$,prize:parseFloat(se),owner:a.address,timestamp:t}),U("answers"),P.emit("request",{request:$,prize:parseFloat(se),owner:a.address,timestamp:t}));case 1:case"end":return e.stop()}}),e)}))),style:{width:"100%",border:"solid 2px "},children:"post"})]})}),"+answer"===Q&&Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{style:{fontSize:"0.9em",marginTop:13,marginInline:13},children:[Object(s.jsx)("b",{children:"Add Answer"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),ie.request,Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(m.a,{id:"outlined-basic",label:"Spotify Link",variant:"outlined",placeholder:"https://open.spotify.com/track/4cLDXR71l03pGcRdh8YESR?si=76f815e7ebda48b6",fullWidth:!0,onChange:function(e){!function(e){console.log(e.split("/"));var t=e.split("/");he({type:t[3],id:t[4]})}(e.target.value),de(e.target.value)},value:be}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(m.a,{id:"outlined-basic",label:"Message",variant:"outlined",placeholder:"Listen with headphones",fullWidth:!0,onChange:function(e){ge(e.target.value.slice(0,250))},value:xe}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(h.a,{onClick:Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&a.address&&(t=Date.now(),L({message:xe,song:fe,owner:a.address,timestamp:t},ie.timestamp),Y(X.concat([Object(c.a)(Object(c.a)({},X),{},{message:xe,song:fe,owner:a.address,timestamp:t})]).sort((function(e,t){return parseFloat(t.timestamp)-parseFloat(e.timestamp)}))),U("answers"));case 1:case"end":return e.stop()}}),e)}))),style:{width:"100%",border:"solid 2px "},children:"post"})]})})]})},E=n(24),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,534)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),c(e),a(e)}))};n.n(E).a.render(Object(s.jsx)(C,{children:Object(s.jsx)(q.a,{maxSnack:3,children:Object(s.jsx)(L,{})})}),document.getElementById("root")),I()}},[[479,1,2]]]);
//# sourceMappingURL=main.5106672e.chunk.js.map