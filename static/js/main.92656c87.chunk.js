(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{182:function(e,t){},275:function(e,t,n){},277:function(e,t,n){},307:function(e,t){},309:function(e,t){},319:function(e,t){},321:function(e,t){},347:function(e,t){},349:function(e,t){},350:function(e,t){},356:function(e,t){},358:function(e,t){},375:function(e,t){},377:function(e,t){},389:function(e,t){},392:function(e,t){},418:function(e,t){},420:function(e,t){},442:function(e,t){},446:function(e,t){},460:function(e,t){},479:function(e,t,n){"use strict";n.r(t);var r=n(8),s=(n(275),n(108)),a=n(0),c=n.n(a),i=n(36),o=n(19),u=(n(277),n(1)),l=n.n(u),b=n(527),p=n(531),d=n(525),j=n(529),f=n(255),h=n.n(f),m=n(23),O=n(98),x=n(262),v=n(528),w=l.a.createContext({getRequest:function(){return Promise.resolve({isSuccessful:!1})},setRequest:function(){return Promise.resolve({isSuccessful:!1})},getRequests:function(){return Promise.resolve({isSuccessful:!1})},setAnswer:function(){return Promise.resolve({isSuccessful:!1})}}),g="https://network4-backend.herokuapp.com",k=function(e){var t=e.children,n=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g+"/users/request/".concat(t),{method:"GET"});case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),s=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g+"/users/request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request:t})});case 2:if(!(n=e.sent).ok){e.next=5;break}return e.abrupt("return",{isSuccessful:!0});case 5:return e.abrupt("return",{isSuccessful:!1,message:n.statusText});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),a=Object(u.useCallback)(Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g+"/users/requests",{method:"GET"});case 2:if(!(t=e.sent).ok){e.next=7;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),[]),o=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g+"/users/answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answer:t,requestTimestamp:n})});case 2:if(!(r=e.sent).ok){e.next=5;break}return e.abrupt("return",{isSuccessful:!0});case 5:return e.abrupt("return",{isSuccessful:!1,message:r.statusText});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]);return Object(r.jsx)(w.Provider,{value:{getRequest:n,setRequest:s,getRequests:a,setAnswer:o},children:t})},y=n(126),S=new O.a("https://mainnet.api.tez.ie"),q=new x.a({name:"hicetnunc.xyz",preferblackNetwork:"mainnet"});S.setWalletProvider(q);var C="localhost"===window.location.hostname?"ws://localhost:8000":"wss://network4-backend.herokuapp.com",A=h()(C,{transports:["websocket"]}),z=new m.i({name:"Beacon Docs"}),R=["0","v1.0","v2.0","v3.0","v4.0"];Object(v.a)();var T=function(){var e=Object(u.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],l=Object(u.useState)("sync"),f=Object(o.a)(l,2),h=f[0],O=f[1],x=Object(u.useState)(!1),v=Object(o.a)(x,2),g=v[0],k=v[1],S=Object(u.useContext)(w),q=S.getRequest,C=S.setRequest,T=S.getRequests,F=S.setAnswer,P=(Object(y.b)().enqueueSnackbar,Object(u.useState)([])),N=Object(o.a)(P,2),L=N[0],I=N[1],E=Object(u.useState)([]),D=Object(o.a)(E,2),G=D[0],W=D[1],B=Object(u.useState)(4),J=Object(o.a)(B,1)[0],X=Object(u.useState)("answers"),H=Object(o.a)(X,2),Y=H[0],M=H[1],_=Object(u.useState)(),K=Object(o.a)(_,2),Q=K[0],U=K[1],V=Object(u.useState)(),Z=Object(o.a)(V,2),$=Z[0],ee=Z[1],te=Object(u.useState)(),ne=Object(o.a)(te,2),re=ne[0],se=ne[1],ae=Object(u.useState)(),ce=Object(o.a)(ae,2),ie=ce[0],oe=ce[1],ue=Object(u.useState)(),le=Object(o.a)(ue,2),be=le[0],pe=le[1],de=Object(u.useState)(),je=Object(o.a)(de,2),fe=je[0],he=je[1];function me(){return(me=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,z.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),n&&z.clearActiveAccount().then(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,z.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),O("sync"),k(!1);case 7:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return xe.apply(this,arguments)}function xe(){return(xe=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,z.getActiveAccount();case 3:if(e.t1=e.sent,(0,e.t0)(e.t1),!n){e.next=11;break}return O(n.address),k(!0),e.abrupt("return",n);case 11:return e.prev=11,console.log("Requesting permissions..."),e.next=15,z.requestPermissions();case 15:return t=e.sent,e.t2=a,e.next=19,z.getActiveAccount();case 19:e.t3=e.sent,(0,e.t2)(e.t3),console.log("Got permissions:",t.address),O(t.address),k(!0),e.next=29;break;case 26:e.prev=26,e.t4=e.catch(11),console.log("Got error:",e.t4);case 29:case"end":return e.stop()}}),e,null,[[11,26]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){function e(){return(e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:if(t=e.sent,I(t),!(t.length>0)){e.next=11;break}return se(t[0]),e.t0=W,e.next=9,q(t[0].timestamp);case 9:e.t1=e.sent,(0,e.t0)(e.t1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[T]),Object(u.useEffect)((function(){var e=function(e){I(L.concat(e).sort((function(e,t){return parseFloat(t.timestamp)-parseFloat(e.timestamp)})))};return A.on("request",e),function(){A.off("request",e)}}),[L]),Object(u.useEffect)((function(){function e(){return(e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,z.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),n?(O(n.address.slice(0,6)+"..."+n.address.slice(32,36)),k(!0)):(O("sync"),k(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"top-left",style:{fontSize:"1em",display:"flex",alignItems:"center",margin:6},children:[Object(r.jsx)("b",{children:"Network "}),"\xa0",Object(r.jsxs)(b.a,{value:J,label:"version",onChange:function(e){var t;return console.log(e.target.value),1===e.target.value?t="https://network1.cc/":2===e.target.value?t="https://adventurepizza.github.io/Network2/":3===e.target.value&&(t="https://adventurepizza.github.io/Network3/"),window.location.href=t,null},children:[Object(r.jsxs)(p.a,{value:1,children:[" ",R[1]]}),Object(r.jsxs)(p.a,{value:2,children:[" ",R[2]]}),Object(r.jsxs)(p.a,{value:3,children:[" ",R[3]]}),Object(r.jsxs)(p.a,{value:4,children:[" ",R[4]]})]}),"\xa0 \ud83d\udce0"]}),Object(r.jsxs)("div",{className:"top-right",style:{position:"absolute",display:"flex",alignItems:"center",backgroundColor:"white",margin:6},children:[g&&Object(r.jsxs)(d.a,{size:"small",title:"unsync",onClick:function(){!function(){me.apply(this,arguments)}()},children:[Object(r.jsx)("u",{children:"unsync"})," "]}),g&&Object(r.jsx)("div",{children:" | "}),Object(r.jsxs)(d.a,{title:"sync",size:"small",onClick:Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:case"end":return e.stop()}}),e)}))),children:[Object(r.jsx)("u",{children:h})," "]})]}),Object(r.jsx)("div",{style:{fontSize:"0.9em",marginTop:13,marginLeft:13},children:Object(r.jsx)("b",{children:"Requests"})}),Object(r.jsxs)("div",{style:{display:"flex",width:"100%",marginLeft:"auto",marginRight:"auto",overflowX:"scroll"},children:[Object(r.jsx)("div",{style:{textAlign:"center",margin:2},children:Object(r.jsx)(d.a,{onClick:Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M("+request");case 1:case"end":return e.stop()}}),e)}))),style:{height:"100%",border:"solid 2px "},children:"+"})}),L&&L.map((function(e){return Object(r.jsx)("div",{style:{textAlign:"center",margin:2},children:Object(r.jsx)(d.a,{title:e.timestamp,onClick:Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=W,t.next=3,q(e.timestamp);case 3:t.t1=t.sent,(0,t.t0)(t.t1),M("answers"),se(e);case 7:case"end":return t.stop()}}),t)}))),style:{width:300,marginInline:4,border:"solid 2px "},children:e.request})},e.timestamp)}))]}),"answers"===Y&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{style:{fontSize:"0.9em",marginTop:13,marginLeft:13,overflowY:"auto"},children:Object(r.jsx)("b",{children:"Answers"})}),Object(r.jsxs)("div",{style:{display:"grid",width:"100%",marginLeft:"auto",marginRight:"auto",overflowX:"scroll"},children:[re&&Object(r.jsx)("div",{style:{textAlign:"center",margin:6},children:Object(r.jsx)(d.a,{onClick:Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M("+answer");case 1:case"end":return e.stop()}}),e)}))),style:{width:"100%",border:"solid 2px "},children:"+"})}),G&&G.map((function(e){return Object(r.jsx)("div",{style:{textAlign:"center",margin:6},children:Object(r.jsxs)("div",{style:{width:"100%"},children:[Object(r.jsx)("iframe",{title:e.timestamp,src:"https://open.spotify.com/embed/".concat(e.song.type,"/").concat(e.song.id,"?utm_source=generator"),width:"100%",height:"80",frameBorder:"0",allowfullscreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"}),Object(r.jsx)(d.a,{title:e.timestamp,onClick:Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),style:{width:"80%",border:"solid 2px "},children:e.message}),Object(r.jsxs)(d.a,{title:e.timestamp,onClick:Object(i.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.requestOperation({operationDetails:[{kind:m.C.TRANSACTION,destination:e.owner,amount:(1e6*re.prize).toString()}]});case 2:n=t.sent,console.log("Operation Hash: ",n.transactionHash);case 4:case"end":return t.stop()}}),t)}))),style:{width:"20%",border:"solid 2px "},children:[re.prize," \ua729"]})]})},e.timestamp)}))]})]}),"+request"===Y&&Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{style:{fontSize:"0.9em",marginTop:13,marginInline:13},children:[Object(r.jsx)("b",{children:"Add Request"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(j.a,{id:"outlined-basic",label:"Request",variant:"outlined",placeholder:"recommend jazz music ",fullWidth:!0,onChange:function(e){U(e.target.value.slice(0,250))},value:Q}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(j.a,{id:"outlined-basic",label:"Prize (\ua729)",variant:"outlined",placeholder:"1",fullWidth:!0,onChange:function(e){ee(parseFloat(e.target.value))},value:$}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(d.a,{onClick:Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&n.address&&(t=Date.now(),C({request:Q,prize:$,owner:n.address,timestamp:t}),I(L.concat([Object(s.a)(Object(s.a)({},L),{},{request:Q,prize:$,owner:n.address,timestamp:t})]).sort((function(e,t){return parseFloat(t.timestamp)-parseFloat(e.timestamp)}))),se({request:Q,prize:$,owner:n.address,timestamp:t}),M("answers"),A.emit("request",{request:Q,prize:$,owner:n.address,timestamp:t}));case 1:case"end":return e.stop()}}),e)}))),style:{width:"100%",border:"solid 2px "},children:"post"})]})}),"+answer"===Y&&Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{style:{fontSize:"0.9em",marginTop:13,marginInline:13},children:[Object(r.jsx)("b",{children:"Add Answer"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),re.request,Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(j.a,{id:"outlined-basic",label:"Spotify Link",variant:"outlined",placeholder:"https://open.spotify.com/track/4cLDXR71l03pGcRdh8YESR?si=76f815e7ebda48b6",fullWidth:!0,onChange:function(e){!function(e){console.log(e.split("/"));var t=e.split("/");pe({type:t[3],id:t[4]})}(e.target.value),oe(e.target.value)},value:ie}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(j.a,{id:"outlined-basic",label:"Message",variant:"outlined",placeholder:"Listen with headphones",fullWidth:!0,onChange:function(e){he(e.target.value.slice(0,250))},value:fe}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(d.a,{onClick:Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&n.address&&(t=Date.now(),F({message:fe,song:be,owner:n.address,timestamp:t},re.timestamp),W(G.concat([Object(s.a)(Object(s.a)({},G),{},{message:fe,song:be,owner:n.address,timestamp:t})]).sort((function(e,t){return parseFloat(t.timestamp)-parseFloat(e.timestamp)}))),M("answers"));case 1:case"end":return e.stop()}}),e)}))),style:{width:"100%",border:"solid 2px "},children:"post"})]})})]})},F=n(24),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,532)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))};n.n(F).a.render(Object(r.jsx)(k,{children:Object(r.jsx)(y.a,{maxSnack:3,children:Object(r.jsx)(T,{})})}),document.getElementById("root")),P()}},[[479,1,2]]]);
//# sourceMappingURL=main.92656c87.chunk.js.map